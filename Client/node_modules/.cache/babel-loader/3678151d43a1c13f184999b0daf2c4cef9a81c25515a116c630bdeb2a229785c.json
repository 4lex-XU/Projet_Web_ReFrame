{"ast":null,"code":"import _slicedToArray from \"/home/alex/Projet_Web_XU_HUANG/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/alex/Projet_Web_XU_HUANG/Client/src/Composants/Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport cookie from 'cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    login = _useState2[0],\n    setLogin = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var getLogin = function getLogin(evt) {\n    setLogin(evt.target.value);\n  };\n  var getPasseword = function getPasseword(evt) {\n    setPassword(evt.target.value);\n  };\n  var submissionHandler = function submissionHandler(evt) {\n    evt.preventDefault();\n    setError(null);\n    var data = {\n      login: login,\n      password: password\n    };\n    axios.post(\"/user/login\", data).then(function (response) {\n      console.log(response.data);\n      document.cookie = \"userId=\" + response.data.userid;\n      console.log(response.data.userid);\n      props.setMyLogin(login);\n      props.getConnected();\n      props.setCurrentPage(\"home_page\");\n    }).catch(function (error) {\n      console.log(error.response.data);\n      setError(error.response.data);\n    });\n  };\n  var signinHandler = function signinHandler(evt) {\n    evt.preventDefault();\n    props.setCurrentPage(\"signin_page\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"login\",\n        onChange: getLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"mdp\",\n        children: \"Passeword\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"mdp\",\n        onChange: getPasseword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submissionHandler,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"reset\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: [error.message, \" \", error.detail]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"signin\",\n        href: \"a\",\n        onClick: signinHandler,\n        children: \"pas encore inscrit ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"NsiARGzEnllXOmChIgPpeeO5KJI=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","axios","cookie","jsxDEV","_jsxDEV","Login","props","_s","_useState","_useState2","_slicedToArray","login","setLogin","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","getLogin","evt","target","value","getPasseword","submissionHandler","preventDefault","data","post","then","response","console","log","document","userid","setMyLogin","getConnected","setCurrentPage","catch","signinHandler","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","type","onClick","style","color","message","detail","className","href","_c","$RefreshReg$"],"sources":["/home/alex/Projet_Web_XU_HUANG/Client/src/Composants/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport cookie from 'cookie';\n\nexport default function Login(props) {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const getLogin = (evt) => {\n    setLogin(evt.target.value);\n  };\n  const getPasseword = (evt) => {\n    setPassword(evt.target.value);\n  };\n  const submissionHandler = (evt) => {\n    evt.preventDefault();\n    setError(null);\n    const data = {\n      login: login,\n      password: password,\n    };\n    axios\n      .post(\"/user/login\", data)\n      .then((response) => {\n        console.log(response.data);\n        document.cookie = \"userId=\" + response.data.userid;\n        console.log(response.data.userid);\n        props.setMyLogin(login);\n        props.getConnected();\n        props.setCurrentPage(\"home_page\");\n      })\n      .catch((error) => {\n        console.log(error.response.data)\n        setError(error.response.data);\n      }\n    );\n  };\n  const signinHandler = (evt) => {\n    evt.preventDefault();\n    props.setCurrentPage(\"signin_page\");\n  };\n  return (\n    <div>\n      <form>\n        <label htmlFor=\"login\">Login</label>\n        <input id=\"login\" onChange={getLogin} />\n        <label htmlFor=\"mdp\">Passeword</label>\n        <input type=\"password\" id=\"mdp\" onChange={getPasseword} />\n        <div>\n          <button onClick={submissionHandler}>\n            Log In\n          </button>\n          <button type=\"reset\">Reset</button>\n        </div>\n        {error && <p style={{ color: \"red\" }}>{error.message} {error.detail}</p>}\n        <a className=\"signin\" href=\"a\" onClick={signinHandler}>\n          pas encore inscrit ?\n        </a>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}