{"ast":null,"code":"import _slicedToArray from \"/home/alex/Projet_Web_XU_HUANG/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/alex/Projet_Web_XU_HUANG/Client/src/Composants/EditerProfil.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditerProfil(props) {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    newLogin = _useState2[0],\n    setNewLogin = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newPassword = _useState4[0],\n    setNewPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    newPasswordConfirm = _useState6[0],\n    setNewPasswordConfirm = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newFirstName = _useState8[0],\n    setNewFirstName = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    newLastName = _useState10[0],\n    setNewLastName = _useState10[1];\n  var _useState11 = useState(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    PassOk = _useState12[0],\n    setPassOk = _useState12[1];\n  var getNewLogin = function getNewLogin(evt) {\n    setNewLogin(evt.target.value);\n  };\n  var getNewPassword = function getNewPassword(evt) {\n    setNewPassword(evt.target.value);\n  };\n  var getNewPasswordConfirm = function getNewPasswordConfirm(evt) {\n    setNewPasswordConfirm(evt.target.value);\n  };\n  var getNewFirstName = function getNewFirstName(evt) {\n    setNewFirstName(evt.target.value);\n  };\n  var getNewLastName = function getNewLastName(evt) {\n    setNewLastName(evt.target.value);\n  };\n  var Edit = function Edit(evt) {\n    evt.preventDefault();\n    if (newPassword === newPasswordConfirm) {\n      var data = {\n        login: newLogin,\n        password: newPassword,\n        first_name: newFirstName,\n        last_name: newLastName\n      };\n      axios.put(\"/user/\".concat(props.myLogin), data, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true,\n        credentials: 'include'\n      }).then(function (res) {\n        console.log(res.data);\n        props.setRechargerProfil(true);\n      }).catch(function (err) {\n        console.log(err.response.data);\n      });\n    } else {\n      setPassOk(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"EditerProfil\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: Edit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"newLogin\",\n        children: \"Nouveau login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"newLogin\",\n        className: \"newLogin\",\n        onChange: getNewLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"newPassword\",\n        children: \"Nouveau mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"newPassword\",\n        className: \"newPassword\",\n        onChange: getNewPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"newPasswordConfirm\",\n        children: \"Confirmer le nouveau mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"newPasswordConfirm\",\n        className: \"newPasswordConfirm\",\n        onChange: getNewPasswordConfirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), !PassOk && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: red\n        },\n        children: \"Les mots de passe ne correspondent pas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"newFirstName\",\n        children: \"Nouveau pr\\xE9nom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"newFirstName\",\n        className: \"newFirstName\",\n        onChange: getNewFirstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"newLastName\",\n        children: \"Nouveau nom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"newLastName\",\n        className: \"newLastName\",\n        onChange: getNewLastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Valider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(EditerProfil, \"tsEGED0lRZLtyif+T5iRIu71x1E=\");\n_c = EditerProfil;\nvar _c;\n$RefreshReg$(_c, \"EditerProfil\");","map":{"version":3,"names":["useState","axios","jsxDEV","_jsxDEV","EditerProfil","props","_s","_useState","_useState2","_slicedToArray","newLogin","setNewLogin","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","newPasswordConfirm","setNewPasswordConfirm","_useState7","_useState8","newFirstName","setNewFirstName","_useState9","_useState10","newLastName","setNewLastName","_useState11","_useState12","PassOk","setPassOk","getNewLogin","evt","target","value","getNewPassword","getNewPasswordConfirm","getNewFirstName","getNewLastName","Edit","preventDefault","data","login","password","first_name","last_name","put","concat","myLogin","headers","withCredentials","credentials","then","res","console","log","setRechargerProfil","catch","err","response","className","children","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","onChange","style","color","red","_c","$RefreshReg$"],"sources":["/home/alex/Projet_Web_XU_HUANG/Client/src/Composants/EditerProfil.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function EditerProfil(props) {\r\n  const [newLogin, setNewLogin] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [newPasswordConfirm, setNewPasswordConfirm] = useState(\"\");\r\n  const [newFirstName, setNewFirstName] = useState(\"\");\r\n  const [newLastName, setNewLastName] = useState(\"\");\r\n  const [PassOk, setPassOk] = useState(true);\r\n  \r\n  const getNewLogin = (evt) => {\r\n    setNewLogin(evt.target.value);\r\n  }\r\n  const getNewPassword = (evt) => {\r\n    setNewPassword(evt.target.value);\r\n  }\r\n  const getNewPasswordConfirm = (evt) => {\r\n    setNewPasswordConfirm(evt.target.value);\r\n  }\r\n  const getNewFirstName = (evt) => {\r\n    setNewFirstName(evt.target.value);\r\n  }\r\n  const getNewLastName = (evt) => {\r\n    setNewLastName(evt.target.value);\r\n  }\r\n\r\n  const Edit = (evt) => {\r\n    evt.preventDefault();\r\n    if(newPassword === newPasswordConfirm){\r\n      const data = {\r\n        login: newLogin,\r\n        password: newPassword,\r\n        first_name: newFirstName,\r\n        last_name: newLastName\r\n      };\r\n      axios.put(`/user/${props.myLogin}`, data, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        withCredentials: true,\r\n        credentials: 'include'\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          props.setRechargerProfil(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data);\r\n        });\r\n    }else{\r\n      setPassOk(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"EditerProfil\">\r\n      <form onSubmit={Edit}>\r\n        <label htmlFor=\"newLogin\">Nouveau login</label>\r\n        <input type=\"text\" id=\"newLogin\" className=\"newLogin\" onChange={getNewLogin} />\r\n        <label htmlFor=\"newPassword\">Nouveau mot de passe</label>\r\n        <input type=\"password\" id=\"newPassword\" className=\"newPassword\" onChange={getNewPassword} />\r\n        <label htmlFor=\"newPasswordConfirm\">Confirmer le nouveau mot de passe</label>\r\n        <input type=\"password\" id=\"newPasswordConfirm\" className=\"newPasswordConfirm\" onChange={getNewPasswordConfirm} />\r\n        {!PassOk && <p style={{color:red}}>Les mots de passe ne correspondent pas</p>}\r\n        <label htmlFor=\"newFirstName\">Nouveau pr√©nom</label>\r\n        <input type=\"text\" id=\"newFirstName\" className=\"newFirstName\" onChange={getNewFirstName} />\r\n        <label htmlFor=\"newLastName\">Nouveau nom</label>\r\n        <input type=\"text\" id=\"newLastName\" className=\"newLastName\" onChange={getNewLastName} />\r\n        <button type=\"submit\">Valider</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}